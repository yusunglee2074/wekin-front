/*!
 * # Range slider for Semantic UI.
 *
 */
!function(e,t,n,o){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.range=function(o){var i,s=e(this),r=s.selector||"",a=(new Date).getTime(),u=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],m=0;return s.each(function(){var s,b,v,p,g,h,k,w,V,y,T,P,x,S,F,M=e.isPlainObject(o)?e.extend(!0,{},e.fn.range.settings,o):e.extend({},e.fn.range.settings),O=(M.className,M.metadata),E=M.namespace,L=M.error,A=M.keys,C=!1,D="."+E,N="module-"+E,z=e(this),j=this,R=z.data(N);F={initialize:function(){F.debug("Initializing range slider",M),m+=1,k=m,x=F.setup.testOutTouch(),F.setup.layout(),F.is.disabled()||F.bind.events(),F.read.metadata(),F.read.settings(),F.observeChanges(),F.instantiate(),M.onChange.call(j,w)},instantiate:function(){F.verbose("Storing instance of range",F),R=F,z.data(N,F)},destroy:function(){F.verbose("Destroying previous range for",z),clearInterval(R.interval),F.unbind.events(),F.unbind.slidingEvents(),z.removeData(N),F.disconnect.sliderObserver(),R=void 0},observeChanges:function(){"MutationObserver"in t&&(S=new MutationObserver(F.event.resize),F.debug("Setting up mutation observer",S),F.observe.slider())},observe:{slider:function(){S.observe(z[0],{attributes:!0})}},disconnect:{sliderObserver:function(){S&&S.disconnect()}},setup:{layout:function(){void 0===z.attr("tabindex")&&z.attr("tabindex",0),0==z.find(".inner").length&&z.append("<div class='inner'><div class='track'></div><div class='track-fill'></div><div class='thumb'></div></div>"),P=F.get.precision(),b=z.find(".thumb:not(.second)"),s=b,F.is.doubled()&&(0==z.find(".thumb.second").length&&z.find(".inner").append("<div class='thumb second'></div>"),v=z.find(".thumb.second")),p=z.find(".track"),g=z.find(".track-fill"),T=b.width()/2,F.setup.labels()},labels:function(){F.is.labeled()&&(h=z.find(".labels:not(.auto)"),0!=h.length?F.setup.customLabel():F.setup.autoLabel())},testOutTouch:function(){try{return n.createEvent("TouchEvent"),!0}catch(e){return!1}},customLabel:function(){var t,n,o=h.find(".label"),i=o.length;o.each(function(o){var s=e(this),r=s.attr("data-value");r?n=F.determine.positionFromValue(r):(t=(o+1)/(i+1),n=F.determine.positionFromRatio(t));var a=F.is.vertical()?F.is.reversed()?"bottom":"top":F.is.reversed()?"right":"left";e(this).css(a,n)})},autoLabel:function(){if(0!=F.get.step()){h=z.find(".labels"),0!=h.length?h.empty():h=z.append('<ul class="auto labels"></ul>').find(".labels");for(var t=0;t<=F.get.numLabels();t++){var n=e('<li class="label">'+F.get.label(t+1)+"</li>"),o=F.is.vertical()?F.is.reversed()?"bottom":"top":F.is.reversed()?"right":"left";n.css(o,F.determine.positionFromValue((t+1)*F.get.step()+F.get.min())),h.append(n)}}}},bind:{events:function(){F.bind.globalKeyboardEvents(),F.bind.resizeListener(),F.bind.keyboardEvents(),F.bind.mouseEvents(),F.is.touch()&&F.bind.touchEvents()},resizeListener:function(){e(t).on("resize"+D,F.event.resize)},keyboardEvents:function(){F.verbose("Binding keyboard events"),z.on("keydown"+D,F.event.keydown)},globalKeyboardEvents:function(){e(n).on("keydown"+D+k,F.event.activateFocus)},mouseEvents:function(){F.verbose("Binding mouse events"),z.find(".track, .thumb, .inner").on("mousedown"+D,function(e){e.stopImmediatePropagation(),e.preventDefault(),F.event.down(e)}),z.on("mousedown"+D,F.event.down),z.on("mouseenter"+D,function(e){C=!0}),z.on("mouseleave"+D,function(e){C=!1})},touchEvents:function(){F.verbose("Binding touch events"),z.find(".track, .thumb, .inner").on("touchstart"+D,function(e){e.stopImmediatePropagation(),e.preventDefault(),F.event.down(e)}),z.on("touchstart"+D,F.event.down)},slidingEvents:function(){F.verbose("Binding page wide events while handle is being draged"),F.is.touch()?(e(n).on("touchmove"+D,F.event.move),e(n).on("touchend"+D,F.event.up)):(e(n).on("mousemove"+D,F.event.move),e(n).on("mouseup"+D,F.event.up))}},unbind:{events:function(){z.find(".track, .thumb, .inner").off("mousedown"+D),z.find(".track, .thumb, .inner").off("touchstart"+D),z.off("mousedown"+D),z.off("mouseenter"+D),z.off("mouseleave"+D),z.off("touchstart"+D),z.off("keydown"+D),z.off("focusout"+D),e(t).off("resize"+D),e(n).off("keydown"+D+k,F.event.activateFocus)},slidingEvents:function(){F.is.touch()?(e(n).off("touchmove"+D),e(n).off("touchend"+D)):(e(n).off("mousemove"+D),e(n).off("mouseup"+D))}},event:{resize:function(e){F.resync()},down:function(e,t){if(e.preventDefault(),F.is.doubled()){var n=F.determine.eventPos(e,t),o=F.determine.pos(n);s=F.determine.closestThumb(o)}F.is.disabled()||F.bind.slidingEvents()},move:function(e,t){e.preventDefault();var n=F.determine.eventPos(e,t),o=F.determine.pos(n);n>=F.get.trackOffset()&&n<=F.get.trackOffset()+F.get.trackLength()?0==F.get.step()||M.smooth?(F.update.position(o),M.onMove.call(j,F.determine.value(o))):F.update.value(F.determine.value(o),function(){M.onMove.call(j,w)}):n>=F.get.trackOffset()?F.update.position(F.determine.positionFromValue(F.get.max())):n<=F.get.trackOffset()+F.get.trackLength()&&F.update.position(F.determine.positionFromValue(F.get.min()))},up:function(e,t){e.preventDefault();var n=F.determine.eventPos(e,t),o=F.determine.pos(n);n>=F.get.trackOffset()&&n<=F.get.trackOffset()+F.get.trackLength()?F.set.value(F.determine.value(o)):n>=F.get.trackOffset()?F.set.value(F.get.max()):n<=F.get.trackOffset()+F.get.trackLength()&&F.set.value(F.get.min()),F.unbind.slidingEvents()},keydown:function(t,o){if(F.is.focused()&&e(n).trigger(t),o||F.is.focused()){var i=F.determine.keyMovement(t);if(0!=i)switch(t.preventDefault(),i){case 1:F.takeStep();break;case 2:F.takeStep(F.get.multiplier());break;case-1:F.backStep();break;case-2:F.backStep(F.get.multiplier())}}},activateFocus:function(e){!F.is.focused()&&F.is.hover()&&0!=F.determine.keyMovement(e)&&(e.preventDefault(),F.event.keydown(e,!0),z.focus())}},resync:function(){F.verbose("Resyncing thumb position based on value"),F.is.doubled()&&F.update.position(F.determine.positionFromValue(F.secondThumbVal),v),F.update.position(F.determine.positionFromValue(F.thumbVal),b),F.setup.labels()},takeStep:function(e){var e=void 0!=e?e:1,t=F.get.step(),n=F.get.currentThumbValue();F.verbose("Taking a step"),t>0&&F.set.value(n+t*e)},backStep:function(e){var e=void 0!=e?e:1,t=F.get.step(),n=F.get.currentThumbValue();F.verbose("Going back a step"),t>0&&F.set.value(n-t*e)},is:{doubled:function(){return z.hasClass(M.className.doubled)},hover:function(){return C},focused:function(){return z.is(":focus")},disabled:function(){return z.hasClass(M.className.disabled)},labeled:function(){return z.hasClass(M.className.labeled)},reversed:function(){return z.hasClass(M.className.reversed)},vertical:function(){return z.hasClass(M.className.vertical)},touch:function(){return x}},get:{trackOffset:function(){return F.is.vertical()?p.offset().top:p.offset().left},trackLength:function(){return F.is.vertical()?p.height():p.width()},trackLeft:function(){return F.is.vertical()?p.position().top:p.position().left},trackStartPos:function(){return F.is.reversed()?F.get.trackLeft()+F.get.trackLength():F.get.trackLeft()},trackEndPos:function(){return F.is.reversed()?F.get.trackLeft():F.get.trackLeft()+F.get.trackLength()},precision:function(){var e,t=F.get.step();if(0!=t){var n=String(t).split(".");e=2==n.length?n[1].length:0}else e=M.decimalPlaces;var o=Math.pow(10,e);return F.debug("Precision determined",o),o},min:function(){return M.min},max:function(){return M.max},step:function(){return M.step},numLabels:function(){var e=Math.round((F.get.max()-F.get.min())/F.get.step())-2;return F.debug("Determined that their should be "+e+" labels"),e},labelType:function(){return M.labelType},label:function(e){switch(M.labelType){case M.labelTypes.number:return e*F.get.step()+F.get.min();case M.labelTypes.letter:return f[(e-1)%26];case M.labelTypes.none:return"";default:return e}},value:function(){return w},currentThumbValue:function(){return s.hasClass("second")?F.secondThumbVal:F.thumbVal},thumbValue:function(e){switch(e){case"first":return F.thumbVal;case"second":if(F.is.doubled())return F.secondThumbVal;F.error(L.notdouble);break;default:return F.thumbVal}},multiplier:function(){return M.pageMultiplier},thumbPosition:function(e){switch(e){case"first":return V;case"second":if(F.is.doubled())return secondThumbPosition;F.error(L.notdouble);break;default:return V}}},determine:{pos:function(e){return F.is.reversed()?F.get.trackStartPos()-e+F.get.trackOffset():e-F.get.trackOffset()-F.get.trackStartPos()},closestThumb:function(e){var t=parseFloat(F.determine.thumbPos(b)),n=Math.abs(e-t),o=parseFloat(F.determine.thumbPos(v));return n<=Math.abs(e-o)?b:v},closestThumbPos:function(e){var t=parseFloat(F.determine.thumbPos(b)),n=Math.abs(e-t),o=parseFloat(F.determine.thumbPos(v));return n<=Math.abs(e-o)?t:o},thumbPos:function(e){return F.is.vertical()?F.is.reversed()?e.css("bottom"):e.css("top"):F.is.reversed()?e.css("right"):e.css("left")},positionFromValue:function(e){var t=F.get.min(),n=F.get.max(),e=e>n?n:e<t?t:e,o=F.get.trackLength(),i=(e-t)/(n-t),s=Math.round(i*o);return F.verbose("Determined position: "+s+" from value: "+e),s},positionFromRatio:function(e){var t=F.get.trackLength(),n=F.get.step(),o=Math.round(e*t);return 0==n?o:Math.round(o/n)*n},eventPos:function(e,t){if(F.is.touch()){var n=e.changedTouches[0].pageY||e.touches[0].pageY,o=e.changedTouches[0].pageX||e.touches[0].pageX;return F.is.vertical()?n:o}var i=e.pageY||t.pageY,s=e.pageX||t.pageX;return F.is.vertical()?i:s},value:function(e){var t=F.is.reversed()?F.get.trackEndPos():F.get.trackStartPos(),n=F.is.reversed()?F.get.trackStartPos():F.get.trackEndPos(),o=(e-t)/(n-t),i=F.get.max()-F.get.min(),s=F.get.step(),r=o*i,a=0==s?r:Math.round(r/s)*s;return F.verbose("Determined value based upon position: "+e+" as: "+r),r!=a&&F.verbose("Rounding value to closest step: "+a),a=Math.round(a*P)/P,F.verbose("Cutting off additional decimal places"),a+F.get.min()},keyMovement:function(e){var t=e.which,n=F.is.vertical()?F.is.reversed()?A.downArrow:A.upArrow:A.downArrow,o=F.is.vertical()?F.is.reversed()?A.upArrow:A.downArrow:A.upArrow,i=F.is.vertical()?A.leftArrow:F.is.reversed()?A.rightArrow:A.leftArrow,s=F.is.vertical()?A.rightArrow:F.is.reversed()?A.leftArrow:A.rightArrow;return t==n||t==i?-1:t==o||t==s?1:t==A.pageDown?-2:t==A.pageUp?2:0}},handleNewValuePosition:function(e){var t,n=F.get.min(),o=F.get.max();return e>=n&&e<=o?t=F.determine.positionFromValue(e):e<=n?(t=F.determine.positionFromValue(n),e=n):(t=F.determine.positionFromValue(o),e=o),t},set:{value:function(e){F.update.value(e,function(e){M.onChange.call(j,e)})},valueDouble:function(e,t){F.is.doubled()?(F.thumbVal=e,F.secondThumbVal=t,V=F.handleNewValuePosition(F.thumbVal),F.update.position(V,b),y=F.handleNewValuePosition(F.secondThumbVal),F.update.position(y,v),w=Math.abs(F.thumbVal-F.secondThumbVal)):F.error(L.notdouble)},position:function(e,t){switch(t){case"first":F.update.position(e);break;case"second":F.update.position(e,v);break;default:F.update.position(e)}}},update:{value:function(e,t){var n=F.get.min(),o=F.get.max();if(e<=n?e=n:e>=o&&(e=o),F.is.doubled()){var i=F.handleNewValuePosition(e);s.hasClass("second")?F.secondThumbVal=e:F.thumbVal=e,F.update.position(i),w=Math.abs(F.thumbVal-F.secondThumbVal)}else V=F.handleNewValuePosition(e),F.update.position(V),w=e,F.thumbVal=w;F.debug("Setting range value to "+w),"function"==typeof t&&t(w)},position:function(e,t){var n=void 0!=t?t:s;F.is.doubled()&&n.hasClass("second")?y=e:V=e;var o,i=F.is.doubled()?Math.abs(V-y):e;F.is.vertical()?(F.is.reversed()?(n.css({bottom:String(e-T)+"px"}),F.is.doubled()&&(o={bottom:String(parseFloat(F.determine.closestThumbPos(0))+T)+"px"})):(n.css({top:String(e-T)+"px"}),F.is.doubled()&&(o={top:String(parseFloat(F.determine.closestThumbPos(0))+T)+"px"})),g.css(Object.assign({height:String(i)+"px"},o))):(F.is.reversed()?(n.css({right:String(e-T)+"px"}),F.is.doubled()&&(o={right:String(parseFloat(F.determine.closestThumbPos(0))+T)+"px"})):(n.css({left:String(e-T)+"px"}),F.is.doubled()&&(o={left:String(parseFloat(F.determine.closestThumbPos(0))+T)+"px"})),g.css(Object.assign({width:String(i)+"px"},o))),F.debug("Setting range position to "+e)}},goto:{max:function(){F.set.value(F.get.max())},min:function(){F.set.value(F.get.min())}},read:{metadata:function(){var e={thumbVal:z.data(O.thumbVal),secondThumbVal:z.data(O.secondThumbVal)};e.thumbVal&&(F.is.doubled()&&e.secondThumbVal?(F.debug("Current value set from metadata",e.thumbVal,e.secondThumbVal),F.set.valueDouble(e.thumbVal,e.secondThumbVal)):(F.debug("Current value set from metadata",e.thumbVal),F.update.value(e.thumbVal)))},settings:function(){!1!==M.start&&(F.is.doubled()?(F.debug("Start position set from settings",M.start,M.doubleStart),F.set.valueDouble(M.start,M.doubleStart)):(F.debug("Start position set from settings",M.start),F.update.value(M.start)))}},setting:function(t,n){if(F.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,M,t);else{if(void 0===n)return M[t];e.isPlainObject(M[t])?e.extend(!0,M[t],n):M[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,F,t);else{if(void 0===n)return F[t];F[t]=n}},debug:function(){!M.silent&&M.debug&&(M.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,M.name+":"),F.debug.apply(console,arguments)))},verbose:function(){!M.silent&&M.verbose&&M.debug&&(M.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,M.name+":"),F.verbose.apply(console,arguments)))},error:function(){M.silent||(F.error=Function.prototype.bind.call(console.error,console,M.name+":"),F.error.apply(console,arguments))},performance:{log:function(e){var t,n,o;M.performance&&(t=(new Date).getTime(),o=a||t,n=t-o,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":n})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var t=M.name+":",n=0;a=!1,clearTimeout(F.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,r,a,u=R;return n=n||d,o=j||o,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var i=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[i])&&n!=s)u=u[i];else{if(void 0!==u[i])return r=u[i],!1;if(!e.isPlainObject(u[o])||n==s)return void 0!==u[o]?(r=u[o],!1):(F.error(L.method,t),!1);u=u[o]}})),e.isFunction(r)?a=r.apply(o,n):void 0!==r&&(a=r),e.isArray(i)?i.push(a):void 0!==i?i=[i,a]:void 0!==a&&(i=a),r}},c?(void 0===R&&F.initialize(),F.invoke(l)):(void 0!==R&&R.invoke("destroy"),F.initialize())}),void 0!==i?i:this},e.fn.range.settings={silent:!1,debug:!1,verbose:!1,performance:!0,name:"Range",namespace:"range",error:{method:"The method you called is not defined.",notdouble:"This slider is not a double slider"},metadata:{thumbVal:"thumbVal",secondThumbVal:"secondThumbVal"},min:0,max:20,step:1,start:0,doubleStart:1,labelType:"number",smooth:!1,decimalPlaces:2,pageMultiplier:2,className:{reversed:"reversed",disabled:"disabled",labeled:"labeled",vertical:"vertical",doubled:"double"},keys:{pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},labelTypes:{number:"number",none:"none",letter:"letter"},onChange:function(e){},onMove:function(e){}}}(jQuery,window,document);